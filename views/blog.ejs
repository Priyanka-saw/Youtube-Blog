<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head') %>
        <title>Blog</title>
</head>

<body>

    <%- include('./partials/nav') %> 
    

    <div class="container mt-4">
        <h1><%= blog.title %></h1>
                <% 
                    // normalize legacy '/public/...' paths and provide a fallback
                    let imageUrl = blog.coverImageURL || '/images/default.png';
                    if (imageUrl.startsWith('/public/')) {
                        imageUrl = imageUrl.replace(/^\/public/, '');
                    }
                %>
                <img src="<%= imageUrl %>" width="300px" alt="Cover image"/>
        <pre><%= blog.body %></pre>
    </div> 

    <%- include('./partials/scripts') %>


</body>

</html>